---
slug: building-a-storage-fun-with-forms-app
date: '2020-04-17T13:53:07.446Z'
lastModified: '2020-04-17T13:53:07.446Z'
title: Building A Storage Fun With Forms App
author: Maria D. Campbell
excerpt: Recently I completed an application using localStorage called Storage Fun With Forms. I really wanted to make something fun that my students could enjoy and learn from as well!
image: jason-leung-xaanw0s0pmk-unsplash.webp
tags: ['color picker', 'local storage', 'event handling', 'try catch']
isPublished: true
isFeatured: false
---

![Building A Storage Fun With Forms App](jason-leung-xaanw0s0pmk-unsplash.webp)

Image by [Jason Leung](https://unsplash.com/@ninjason) on [unsplash.com](https://unsplash.com/photos/Xaanw0s0pMk)

Recently I **_completed_** an **application** using `localStorage` called
`Storage Fun With Forms`. I really wanted to make something **_fun_** that my **students** could enjoy and learn from as **_well_**!

As the **_name_** of the **application** **_indicates_**, the **application** uses `localStorage` to essentially **_save_** a **user's** **_preferences_**. It **includes** `font color`, `font style`, page `background color`, `image`, and `note text`!

I had **_so much_** **fun** **_building_** this little **application**.

I discovered a **_new_** `png` **website** full of **_cool_**, FREE, `pngs` that I use in the **app**.

I discovered the **_really cool_** `jscolor` **color picker** that I am using in the **_app_**.

## Building A Storage Fun With Forms App: How It Works

### User Story

A `user` can **_change_** the `background color` of the `web page` with a
`color picker`.

A `user` can **_change_** the `font color` of the `text` at the **_top_** of the
`form box` with a `color picker`.

A `user` can **_select_** their `font family` of **choice** for the `text`
located at the **_top_** of the `form box` using a `select` **dropdown**.

A `user` can **_select_** their `image` of **choice** using a `select`
**dropdown**.

A `user` can **_write_** some `text` in the `textarea` **box** and then
**_save_** it to `localStorage` with a **click** of the `Submit Note`
**button**.

A `user` can **_retrieve_** the `latest note` **_saved_** to `localStorage` with a **click** of the `Get Note` **button**.

A `user` can get **_full_** `localStorage` **data details** by **_navigating_** to the `Applications` **tab** in `Chrome Developer Tools`, and then by **clicking** on `localStorage` to the **_left_** of the `Applications` **area**.

### Building A Storage Fun With Forms App: How To Build It

My `index.html` **markup** looks something like **_this_**:

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>localStorage vs sessionStorage fun Form</title>
		<link
			href="https://fonts.googleapis.com/css2?family=Arvo&family=Bitter&family=Dosis&family=Inconsolata&family=Noto+Sans&family=PT+Sans:wght@400,700&family=Quicksand&display=swap"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="styles/css/main.css" />
	</head>
	<body>
		<div class="wrapper">
			<h1 class="title">Storage Fun With Forms</h1>
			<p class="font-color font-style">
				Write a note about your experience here and save it to local
				storage. All the other selections you make here are also being
				saved to local storage so that you may be reminded of them when
				you return!
			</p>
			<form id="fun-form">
				<div class="storage-buttons">
					<a class="clear">Clear Storage</a>
					<a class="empty">Empty Storage</a>
				</div>
				<div id="storage-quota-msg"></div>
				<div>
					<label for="bgcolor">Choose Background Color:</label>
					<div class="inputs">
						<input
							name="color"
							id="bgcolor"
							value="FF0000"
							class="jscolor"
						/>
					</div>
				</div>
				<div>
					<label for="fontcolor">Choose Font Color:</label>
					<div class="inputs">
						<input
							name="color"
							id="fontcolor"
							class="jscolor"
							value="000000"
						/>
					</div>
				</div>
				<div class="select-font">
					<label for="font">Choose Font Style:</label>
					<select id="font" name="font">
						<option value="'Noto Sans', sans-serif">
							Noto Sans Sans-Serif
						</option>
						<option value="'Inconsolata', monospace">
							Inconsolata Monospace
						</option>
						<option value="'Arvo', serif">Arvo Serif</option>
						<option value="'Dosis', sans-serif">
							Dosis Sans-Serif
						</option>
						<option value="'Quicksand', sans-serif">
							Quicksand Sans-Serif
						</option>
						<option value="'Bitter', serif">Bitter Serif</option>
						<option value="'PT Sans', sans-serif">
							PT Sans Sans-Serif
						</option>
					</select>
				</div>
				<div class="select-image">
					<label for="image">Select Image:</label>
					<select id="image" name="image">
						<option value="images/pinpng.com-boba-png-1646192.png">
							Boba
						</option>
						<option
							value="images/pinpng.com-cupcake-png-581578.png"
						>
							Cupcake 1
						</option>
						<option
							value="images/pinpng.com-cupcake-png-582129.png"
						>
							Cupcake 2
						</option>
						<option
							value="images/pinpng.com-joker-face-png-2302664.png"
						>
							Joker Face
						</option>
						<option
							value="images/pinpng.com-koi-fish-png-13801.png"
						>
							Koi Fish 1
						</option>
						<option
							value="images/pinpng.com-palm-tree-leaf-png-281s.png"
						>
							Palm Tree Leaf
						</option>
						<option
							value="images/pinpng.com-palm-tree-leaf-png-30916.png"
						>
							Maple Leaf
						</option>
						<option
							value="images/pinpng.com-push-pin-png-104159.png"
						>
							Push Pin
						</option>
						<option
							value="images/pinpng.com-salt-clipart-png-3375830.png"
						>
							Koi Fish 2
						</option>
						<option
							value="images/pinpng.com-snowman-clipart-png-652627.png"
						>
							Snowman
						</option>
						<option
							value="images/pinpng.com-spider-web-png-transparent-61850.png"
						>
							Spider Web 1
						</option>
						<option
							value="images/pinpng.com-spider-web-png-transparent-370544.png"
						>
							Spider Web 2
						</option>
						<option
							value="images/pinpng.com-supergirl-png-423021.png"
						>
							Super Girl
						</option>
						<option
							value="images/pinpng.com-superhero-clipart-png-6134782.png"
						>
							Super Hero
						</option>
						<option
							value="images/pinpng.com-transparent-rose-png-3604806.png"
						>
							Roses
						</option>
						<option
							value="images/pinpng.com-spongebob-png-591707.png"
						>
							Sponge Bob Birthday
						</option>
						<option
							value="images/pinpng.com-pink-roses-png-84631.png"
						>
							Pink Roses
						</option>
						<option
							value="images/pinpng.com-spongebob-boi-png-5936134.png"
						>
							Sponge Bob Boi
						</option>
						<option
							value="images/pinpng.com-stacks-of-money-png-6687.png"
						>
							Stacks of Money
						</option>
						<option
							value="images/pinpng.com-spongebob-house-png-6400047.png"
						>
							Sponge Bob House
						</option>
						<option
							value="images/pinpng.com-picsart-clipart-png-6120662.png"
						>
							Bart Simpson
						</option>
						<option
							value="images/pinpng.com-el-principito-png-3895598.png"
						>
							Little Prince 1
						</option>
						<option value="images/pinpng.com-zorro-png-3794942.png">
							Little Prince 2
						</option>
						<option value="images/pinpng.com-lol-png-833532.png">
							Lol
						</option>
						<option
							value="images/pinpng.com-lol-surprise-png-1961089.png"
						>
							Lol Surprise
						</option>
					</select>
				</div>
				<div class="note">
					<label for="textArea">Type Note:</label>
					<textarea type="text" id="textArea" name="textArea">
Write a note!</textarea
					>
				</div>
				<div class="note-btn-wrapper">
					<button type="button" id="note-btn">Submit Note</button>
					<button type="button" id="get-note-btn">Get Note</button>
				</div>
				<img class="image" alt="" />
			</form>
		</div>
		<div class="footer-wrapper">
			<footer class="site-footer">
				<script>
					const theDate = new Date()
					const footer = document.querySelector('.site-footer')
					footer.style.fontWeight = '600'
					footer.style.letterSpacing = '0.07rem'
					footer.style.fontFamily = 'Arimo, sans-serif'
					footer.innerHTML = `&#10013; Â© ${theDate.getFullYear()} Maria D. Campbell &#10013;`
				</script>
			</footer>
		</div>
		<script src="jscolor/jscolor.js"></script>
		<script src="scripts/js/main.js"></script>
	</body>
</html>
```

My `main.css`, **_transformed_** to `css` from `scss`, looks something like
**_this_**:

```css
* {
	box-sizing: border-box;
}
html {
	height: 100vh;
}
html,
body {
	margin: 0;
}
body {
	display: -webkit-box;
	display: -moz-box;
	display: box;
	display: flex;
	flex-direction: column;
	-webkit-box-align: center;
	-moz-box-align: center;
	box-align: center;
	justify-content: center;
	-webkit-box-pack: center;
	-moz-box-pack: center;
	box-pack: center;
	align-items: center;
}
body > .wrapper {
	width: 90%;
	max-width: 800px;
	background-color: #fafafa;
	padding: 2rem;
	position: relative;
	border: 6px solid black;
	margin-top: 9rem;
	margin-bottom: 22vh;
	display: flex;
	flex-direction: column;
}
/* body wrapper and div for label and selects styling */
body > div > div {
	width: 300px;
}
/* h1 styling */
h1.title {
	margin: 0;
	padding: 0;
	position: absolute;
	left: 0;
	top: -1.25rem;
	letter-spacing: 0.06rem;
	font-family: 'PT Sans', sans-serif;
	font-weight: 700;
	text-transform: uppercase;
	color: #fafafa;
	text-shadow: 1px 1px 0 black, 2px 2px 0 black;
	font-size: 1.3rem;
}
@media (min-width: 384px) {
	h1.title {
		font-size: 1.5rem;
		top: -1.5rem;
	}
}
@media (min-width: 480px) {
	h1.title {
		font-size: 2rem;
		top: -1.9rem;
	}
}
@media (min-width: 600px) {
	h1.title {
		font-size: 2.5rem;
		top: -2.25rem;
	}
}
@media (min-width: 800px) {
	h1.title {
		font-size: 3.25rem;
		top: -3rem;
	}
}
/* form styling by id (more specific) */
#fun-form {
	width: 100%;
	margin: 0 auto;
}
/* general label styling */
label {
	margin: 0.75rem 0 0.25rem;
	font-family: 'PT Sans', sans-serif;
	font-weight: 400;
}
/* textarea styling */
.note {
	margin-top: 0.75rem;
	display: flex;
	flex-direction: column;
	justify-content: center;
}
/* font color input div styling */
.inputs {
	display: flex;
}
/* styling for both font and background color inputs */
input[name='color'] {
	width: 100%;
	width: 250px;
	height: 1.5rem;
	margin-top: 0.5rem;
	margin-bottom: 0.5rem;
}
/* Styling for select tags */
form > div > select {
	display: block;
}
select {
	margin-top: 0.5rem;
	width: 200px;
}
select:first-of-type {
	margin-bottom: 0.5rem;
}
/* textarea styling */
textarea {
	width: 100%;
	max-width: 250px;
	height: 3rem;
	resize: none;
	outline: none;
	overflow-y: auto;
	padding: 0.5rem;
	letter-spacing: 0.09rem;
	font-size: 1rem;
	margin-top: 0.25rem;
}
/* image tag styling */
img {
	position: absolute;
	top: 42.5em;
	right: 0;
}
@media (min-width: 360px) {
	img {
		top: 40rem;
	}
}
@media (min-width: 480px) {
	img {
		top: 37rem;
	}
}
@media (min-width: 600px) {
	img {
		top: 34rem;
	}
}
@media (min-width: 680px) {
	img {
		top: 13rem;
		right: 5rem;
	}
}
/* image size styling by class (more specific) */
.image {
	width: 100%;
	height: 100%;
	width: 200px;
	height: 200px;
}
.note-btn-wrapper,
.storage-buttons {
	display: flex;
	justify-content: space-between;
	width: 100%;
	max-width: 250px;
}
.storage-buttons {
	margin-top: 1rem;
	margin-bottom: 1rem;
}
/* clear and empty storage buttons styling */
.clear,
.empty {
	font-size: 1rem;
	font-family: 'PT Sans', sans-serif;
}
.clear:focus,
.clear:hover,
.clear:active,
.empty:focus,
.empty:hover,
.empty:active {
	color: #d86262;
	text-decoration: none;
}
/* submit note and get note button styling */
#note-btn,
#get-note-btn {
	width: 90px;
	outline: none;
	padding: 5px;
	font-size: 1rem;
	background: black;
	color: #fafafa;
}
/* Footer styling loosely based on Philip Walton's Sticky Footer used with CSS Flexbox */
.site-footer {
	height: 50vh;
	width: 100%;
	font-size: 100%;
	display: flex;
	justify-content: center;
	align-items: flex-end;
}
@media (min-width: 411px) {
	.site-footer {
		font-size: 120%;
	}
}
@media (min-width: 600px) {
	.site-footer {
		font-size: 130%;
	}
}
```

But now to get down to the **_nitty gritty_**. The `JavaScript`!

First, I had to **_declare_** and **_initialize_** a whole bunch of `variables`, and I **organized** them by **_functionality_**.

### Global Variables

**_Two_** **variables** **_related_** to the `background color` of the **page**
`body`:

```js
// background color related variables

let bgColorInput = document.querySelector('#bgcolor')
let htmlElem = document.querySelector('html')
```

**_Two_** **variables** **_related_** to the `paragraph font color`:

```js
// font color related variables
let fontColorInput = document.querySelector('#fontcolor')
let pElem = document.querySelector('p')
```

**_Two_** **variables** **_related_** to the `font style`:

```js
// font style related variables
let fontStyleSelect = document.querySelector('#font')
let fontStyleElem = document.querySelector('.font-style')
```

**_Two_** **image** **_related_** **variables**:

```js
// image related variables
let imageSrcSelect = document.querySelector('#image')
let imageElem = document.querySelector('img')
```

**_Four_** **textarea** **_related_** **variables**:

```js
// textarea related variables
let textAreaElem = document.querySelector('textarea')
let textAreaInput = document.querySelector('#textArea')
let noteBtn = document.querySelector('#note-btn')
let getNoteBtn = document.querySelector('#get-note-btn')
```

A **clear storage** **_related_** **variable**:

```js
// clear storage button const
clearStorageButton = document.querySelector('.clear')
```

A **storage quota** **_related_** **variable**:

```js
// storage quota message div
const storageQuotaMsg = document.getElementById('storage-quota-msg')
```

An **empty storage** **_related_** **variable**:

```js
// empty storage button
const emptyStorageButton = document.querySelector('.empty')
```

### Checking For Local Storage Support in the Browser

It is **_important_** for the `user` to **_know_** whether or not his/her
`browser` **_supports_** `localStorage`.

I have a **function** called `localStorageSupport()` that **does** just
**_that_**. The `body` of the **function** contains only **_one_** **line**. So the **complete function** looks **something** like **_this_**:

```js
function localStorageSupport() {
	return typeof Storage !== 'undefined'
}
```

Basically, what the `return` **statement** inside the `body` of the **function** is **_saying_**, is if the `type of storage` does **_not_** return `undefined`, `return` **true**, and that would **_indicate_** that there is `localStorage` **support** in the **_browser_**. If the `type of storage` returns `undefined`, `return` **false**, and that would **_indicate_** that there is **no** `localStorage` **support** in the **_browser_**.

### Checking for Saved Local Storage

We don't just have to check for `localStorage` **support**, but we **_also_** have to **check** if we have anything **_already_** **saved** to `localStorage`. Why? Because our `styles` are **_based on_** the `values` saved to `localStorage`!

So we **_need_** to **create** a `condition` to **_check_** whether or not any `key/value` **pairs** are **_already_** **saved** to `localStorage`. If they are **_not_**, then we make a `call` to the `populateStorage()` **function**, which **_saves_** our `key/value` **pairs** to `localStorage`. If they have been **_saved_**, we make a `call` to our `setStyles()` **function** **_instead_**.

This `condition` **_calls for_** an `if/else` **statement**. What we **want** this `if/else` **statement** to **_do_**, is **set** the `condition` that If there is not a `bgcolor` **key** **_saved_** to `localStorage`, then **make** a `call` to the `populateStorage()` **function**, which **sets** the `values` of the **_selected_** **items** on the `page` to `localStorage`. If there is a `bgcolor` **key** **_saved_** to `localStorage`, then **make** a `call` to the
`setStyles()` **function**.

**_However_**, we could do **_even better_** than **this**. We could **check** for **_all_** **possible** `keys` (`totaling four`) that **might** be **_already_** **saved** to `localStorage`, and **_not_** just one! If we **just** **_check_** for one, we are **excluding** **_any others_** that might be **already saved**. And **_any_** given `user` may **choose** to **_skip_** selecting a `background color`, or **_any other_** selections, at **any given** **_time_**. This is what my `if/else` **statement** looked like **_at first_**:

```js
if (!localStorage.getItem('bgcolor')) {
	populateStorage()
} else {
	setStyles()
}
```

But then it **_dawned_** on me that the `scope` of this **_condition_** was
**too narrow**, so I **_ended up_** with the **following**:

```js
if (
	!localStorage.getItem('bgcolor') ||
	!localStorage.getItem('fontfamily') ||
	!localStorage.getItem('image') ||
	!localStorage.getItem('fontcolor')
) {
	populateStorage()
} else {
	setStyles()
}
```

So if **_none_** of the **possible keys** have been **_saved_** to
`localStorage`, **make** a `call` to the `populateStorage()` **function**.
**_Else_**, **make** a `call` to the `setStyles()` **function**, which **sets** the `values` of the `keys` as the `values` of the `css style properties`.

### Declaring and Defining The populateStorage() function

The **_idea_** of the `populateStorage()` **function** is to **_save_** a
**total** of **4** `key/value` **pairs** to `localStorage`.

Whenever a `user` **_selects_** either a `background color` for the `body` of the `web page`, a `font color` for the `paragraph` located at the **_top_** of the `form box`, a **_different_** `font family` to **change** the **_look_** of the `paragraph`, or a **_fun_** `png` to **spruce up** the `form/page`, the `populateStorage()` **function** is **_called_**. The **function** looks **_something_** like **this**:

```js
/* populate storage using the setItem() method. Also check for localStorage support and storage quota. */
function populateStorage() {
	// run detection with inverted expression
	if (!localStorageSupport) {
		// change value to inform visitor of no session storage support
		storageQuotaMsg.innerHTML =
			'Sorry. No HTML5 session storage support here.'
	} else {
		try {
			localStorage.setItem(
				'bgcolor',
				document.getElementById('bgcolor').value,
			)
			localStorage.setItem(
				'fontfamily',
				document.getElementById('font').value,
			)
			localStorage.setItem(
				'image',
				document.getElementById('image').value,
			)
			localStorage.setItem(
				'fontcolor',
				document.querySelector('#fontcolor').value,
			)
			localStorage.setItem(
				'note',
				document.querySelector('#textArea').value,
			)
			setStyles()
		} catch (domException) {
			domException = new DOMException()
			if (
				domException.name === 'QUOTA_EXCEEDED_ERR' ||
				domException.name === 'NS_ERROR_DOM_QUOTA_REACHED'
			) {
				storageQuotaMsg.innerHTML = 'Local Storage Quota Exceeded!'
			}
		}
	}
}
```

As **_indicated_** by the `comment` at the **top** of the **_function_**, the `populateStorage()` **function** **_takes care_** of **three things**.
**_First_**, it **checks** for `localStorage` **support**. **_Second_**, it
`"tries out"` **setting** the **_selected_** `key/value` **pair** `options` to `localStorage`. **_Third_**, it **checks** if a `user's` `localStorage`
**quota** has been `met/exceeded`.

Let's `break down` the `populateStorage()` **function** down into these **_three parts_**.

**_First_**, we **check** to see if there is `localStorage` **support** in the `active browser window`. We **achieve** this with the **_following_**:

```js
// run detection with inverted expression
if (!localStorageSupport) {
	// change value to inform visitor of no session storage support
	storageQuotaMsg.innerHTML =
		'Sorry. No HTML5 session       storage support here.'
}
```

What's **_going on_** here? We **check** whether there is NOT `localStorage`
**support** using the NOT `logical operator`, `!`, along with a **_reference_** to the `localStorageSupport()` **function**. So if there is NOT `localStorage` **support** in the `active browser`, we **set** the `.innerHTML` **property** on the `div` with the `id` of `"storage-quota-msg"` and **_assign_** it the `value` of the `string`

```js
'Sorry. No HTML5 session storage support here.'
```

This **_covers_** the `if block` of the `populateStorage()` **function's**
`if/else` **statement**.

If there is `localStorage` **support**, the `program` **exits** the
`if statement` and **_enters_** the `else statement`.

In the `else statement`, we `try` **_out_** the **code** that **_saves_** our `key/value` **pairs** to `localStorage`. It **_looks_** something like **this**:

```js
else {
    try {
      localStorage.setItem('bgcolor', document.getElementById('bgcolor').value);
      localStorage.setItem('fontfamily', document.getElementById('font').value);
      localStorage.setItem('image', document.getElementById('image').value);
      localStorage.setItem(
        'fontcolor',
        document.querySelector('#fontcolor').value
      );
      localStorage.setItem('note', document.querySelector('#textArea').value);
      setStyles();
    }
// rest of else statement
}
```

**_First_**, we **save** all the `key/value` **pairs** to `localStorage` using the `.setItem()` **_built-in_** **method**. That is **_followed by_** a `call` to the `setStyles()` **function** in **_order_** to **use** the `values` of the `keys` as the `values` of the `css style properties` via `CSS in JS`.

**_However_**, if the `user's` `localStorage` **quota** has been **_met_** or **_exceeded_**, the `program` **exits** the `try block` and **_enters_** the `catch block`. Our `catch block` **checks** for **_exceptions_** `thrown` **_related to_** the `user's` `localStorage` **quota**. The `catch statement` looks **something** like **_this_**:

```js
catch (domException) {
    domException = new DOMException();
    if (
        domException.name === 'QUOTA_EXCEEDED_ERR' ||
        domException.name === 'NS_ERROR_DOM_QUOTA_REACHED'
      ) {
          storageQuotaMsg.innerHTML = 'Local Storage Quota Exceeded!';
    }
}
```

I pass a `domException` **parameter** to the `catch` **method**, and then
**_inside_** the `catch block`, at the **top**, I **_assign_** it the `value` of

```js
new DOMException()
```

Then I **set** the `name` **property** on this **_new_** `instance` of the
`DOMException` **object** represented by the domException parameter/variable. This way, the program can check whether the domException.name
'QUOTA_EXCEEDED_ERR' or 'NS_ERROR_DOM_QUOTA_REACHED' **exists**, and if it
**does** because the `user's` `localStorage` **quota** has been **met** or
**exceeded**, then the `value` of `storageQuotaMsg.innerHTML` should be **set** to

```js
'Local Storage Quota Exceeded!'
```

If the `user's` `localStorage` is **met** or **exceeded**, then `he/she` can
**click** on the `Clear Storage` or `Empty Storage` **button** to **_make
room_** for **new** `storage items`.

### Declaring and Defining the setStyles() function

So we have **saved** our `key/value` **pairs** to `localStorage`. But they are **_not_** **worth anything** to us **_unless_** we can **access** those `values` and **set** them to our `style properties` in our`main.js` **file**.

That's where the `setStyles()` **function** **_comes in_**!

What does the `setStyles()` **function** do for us?

**_Three things_**. **First** it **_retrieves_** our `keys` from `localStorage` with the `getItem()` **_built-in_** **method**. **Then** it **_sets_** the `variables` **representing** the **_retrieved_** `keys` as the `values` of the **elements** with **_given_** `ids` or `classes`.

Among the **_actual elements_** are the `color input elements` **containing** `color pickers` whose `hex values` are **_stored_** in `localStorage` when the `populateStorage()` **function** is **_called_**.

**_Next_** are the `select` **elements** **_containing_** `font family`
**options** and `image` **options** the `user` can **_choose_** from, whose
`values` are also **_stored_** in `localStorage` when the `populateStorage()` **function** is **_called_**.

The `localStorage` `key` `values` are **_used_** for **two things**. One is for **setting** the `key` `values` as the `values` of **elements** whose
**_styling_** is **dependent** on those `key` `values`. The **_other_** is for **setting** the `values` as the `values` of the **element** `style properties`.

The `setStyles()` **function** looks **_something_** like **this**:

```js
/* Set styles of body background color, font style, image selection, and paragraph font color using the getItem() method to retrieve their values from local storage. */
function setStyles() {
	let currentBgColor = localStorage.getItem('bgcolor')
	let currentFont = localStorage.getItem('fontfamily')
	let currentImage = localStorage.getItem('image')
	let currentFontColor = localStorage.getItem('fontcolor')

	document.getElementById('bgcolor').value = currentBgColor
	document.getElementById('font').value = currentFont
	document.getElementById('image').value = currentImage
	document.getElementById('fontcolor').value = currentFontColor
	document.querySelector('.font-color').value = currentFontColor

	htmlElem.style.backgroundColor = '#' + currentBgColor
	pElem.style.fontFamily = currentFont
	fontStyleElem.style.color = '#' + currentFontColor
	imageElem.setAttribute('src', currentImage)
}
```

### Declaring and Defining The clearStorage() function

I also **_wanted_** to **create** a **function** that would **_clear_** both the `textarea` **box** of any **_new_** `text` the `user` has **_inputted_**, as well as its **associated** `key/value` **pair** from `localStorage`. That is what the `clearStorage()` **function** is **_for_**. It looks **something** like **_this_**:

```js
// clear storage function. Only clears the note local storage.
function clearStorage() {
	let note = document.querySelector('#textArea')
	note.value = ''
	localStorage.removeItem('note', note.value)
}
```

Essentially, I **use** the `.removeItem()` **_built-in_** **method** **_set_** on the `localStorage` **object** to **_remove_** the `key/value` **pair** **_associated_** with the `textarea` **element**.

**_Two_** **arguments** are **_passed_** to that **method**. The **_first_** is the `name` of the `key` in **_question_**, and the **_second_** is the **actual** `value` of the `key`. The `note variable` **represents** the `textarea` **element**, and is **_retrieved_** by **querying** its `id` **name** using the `document.querySelector()` `Document` **method**. This **method** **_returns_** the `first element` in the `Document` that **_matches_** the `specified selector`. In **_our_** case, it is the `id` of the `specified selector`.

**_Next_**, I **set** the `value` **property** on the `note` **variable**
**_representing_** the `textarea` **element**, and I **set** the `valu`e of an **empty** `string`. This **_clears_** all `text` **_residing_** in the
`textarea` **box**. Then the `localStorage.removeItem()` **method**
**_removes_** the `key/value` **pair** **_associated_** with that `textarea`
**element**.

### Declaring and Defining the emptyStorage() function

Sometimes we **_just_** want to **start** from a **_clean slate_**, and that
**includes** an **_empty_** `localStorage` **area**! That is what the
`emptyStorage()` **function** is **_for_**.

The `emptyStorage()` **function** **_differs_** from the `clearStorage()`
**function** in that it **_empties_** ALL `key/value` **pairs** in the `user's` `localStorage`, **_irrespective_** of which (sub) domain (assuming these subdomains share the same parent domain, as is the case with `Github` `gh-pages` **_hosted_** sites) it belongs to. The `emptyStorage()` **function** looks **_something_** like **this**:

```js
// empty local storage, meaning everything.
function emptyStorage() {
	let note = document.querySelector('#textArea')
	note.value = ''
	localStorage.clear()
}
```

The **_first_** part of the `body` of the **function** is **_exactly_** the
**same** as the **_first_** part of the `clearStorage()` **function**. The
**_difference_** lies in the **last line**.

In the `clearStorage()` **function**, the `.remove()` **method** is **_set_** on the `localStorage` **object**, and it **_only_** **removes** the `key/value` **pair** **_passed in_** to it.

In the `emptyStorage()` **function**, the `.clear()` **method** is **_set_** on the `localStorage` **object**, and this **method** **_removes_** all `key/value` **pairs** **_saved_** to the `user's` `localStorage`.

### Setting Event Listeners on the Various Buttons and Elements

The **_last thing_** to **do** in the `application` is to **set**
`Event Listeners` on the **_various_** **buttons** and **elements** that
**_need_** them to **trigger** a `call` to their **_associated_** **functions**.

### Saving the textarea text to localStorage on the click of the Submit Note Button

If the `user` simply wants to **_save_** the `key/value` pair **_associated
with_** the (text) `value` of the `textarea` **box** to `localStorage`, he/she can **click** on the `Submit Note` **button**. The `.addEventListener()`
**method** for that button looks **_something_** like **this**:

```js
// save textarea text to local storage on click
noteBtn.addEventListener('click', () => {
	localStorage.setItem('note', document.querySelector('#textArea').value)
})
```

This code **_states_** that when the `Submit Note` **button** has been
**_clicked_**, the `text` **_typed_** into the `textarea` **box** is **_saved_** as the `value` of the `key` **_named_** `note` to `localStorage`. This **functionality** is **_separate_** from that of the `populateStorage()` **function**.

### Getting the textarea text saved to localStorage on the click of the Get Note Button

**_Next_**, an `event listener` has to be **_set_** on the `Get Note` **button** so as to **_re-populate_** the `textarea` **box** with the **_latest_** `saved text` to `localStorage`. The `.addEventListener()` **method** for the **button** looks **_something_** like **this**:

```js
// get note local storage value and save it to value of textarea text
getNoteBtn.addEventListener('click', () => {
	localStorage.getItem('note', document.querySelector('#textArea').value)
	document.querySelector('#textArea').value = localStorage.getItem('note')
})
```

When the `user` **_clicks_** on the `Get Note` **button**, **_two things_**
**happen**.

**_First_**, the `textarea` last saved to `localStorage` is **_retrieved_** by the line

```js
localStorage.getItem('note', document.querySelector('#textArea').value)
```

Then that `textarea` **element's** `value` is **_re-assigned_** with the `value` of `localStorage.getItem('note');`.

```js
document.querySelector('#textArea').value = localStorage.getItem('note')
```

As a **_result_**, the `textarea` **element** `text` **_retrieved_** from
`localStorage` **replaces** the **_default_** text, **re-appearing** in the
`textarea` **element** `textbox`.

### Clearing the note/note.value key/value pair from localStorage on the click of the Clear Storage Button

I **_needed_** to **set** an `Event Listener` on the `Clear Storage` **button** to **_trigger_** the `clearStorage()` **function** that **_clears_** the **specified** `key/value` **pair** from `localStorage`. The
`.addEventListener()` **method** for the **button** looks **_something_** like **this**:

```js
// clear the note local storage key value

clearStorageButton.addEventListener('click', clearStorage)
```

I **_also_** **needed** to **_set_** an `Event Listener` on the `Empty Storage` **button** to **_trigger_** the `emptyStorage()` **function** that
**completely** empties all `key/value` **pairs** from the `user's`
`localStorage`. The `.addEventListener()` **method** for the **button** looks **something** like **this**:

```js
// empty local storage completely

emptyStorageButton.addEventListener('click', emptyStorage)
```

**_Last_** of **all**, I **needed** to **_set_** `Event Listeners` on the
`input`, `select`, and `textarea` **elements** to **_trigger_** the
`populateStorage()` **function**, which **_checks_** for `localStorage`
**support**, **_saves_** all the `key/value` **pairs** to `localStorage`,
**makes** a `call` to the `setStyles()` **function**, and **_catches_**
**thrown** `domExceptions` **_related_** to the `user's` `localStorage`
**quota** **_excess_**.

**_First_**, a `change` `Event Listener` had to be **set** on the
`background color` `input` **element** that **_triggers_** a `call` to the
`populateStorage()` **function** when a `change` has been **_made_** to the
`background-color` `value` in the `input field`. The `.addEventListener()`
**method** **_set_** on this `input` **looks** something **_like_**:

```js
// listen for change in background color input field
bgColorInput.addEventListener('change', populateStorage)
```

**_Next_**, a `change` `Event Listener` had to be **set** on the `font color` `input` **element** that **_triggers_** a `call` to the `populateStorage()` **function** when a `change` has been **_made_** to the `font color` `value` in the `input` **field**. The `.addEventListener()` **method** **_set_** on this `input` **element** looks something **_like_**:

```js
// listen for change in font color input field
fontColorInput.addEventListener('change', populateStorage)
```

**_Next_**, a `change` `Event Listener` had to be **set** on the `select`
**element** that **_triggers_** a `call` to the `populateStorage()` **function** when a `change` has been **_made_** to the `font family` `option` **_selected_** from the `select` `option` **dropdown**. The `.addEventListener()` **method** **_set_** on this `select` **element** looks **_something_** like **this**:

```js
// listen cor change in selection of font style

fontStyleSelect.addEventListener('change', populateStorage)
```

**_Next_**, a `change` `Event Listener` had to be **_set_** on the `select`
**element** that **_triggers_** a `call` on the `populateStorage()` **function** when a `change` has been **_made_** to the `image` `png` **option** **_selected_** from the `select` `option` **dropdown**. The
`.addEventListener()` **method** **_set_** on this `select` **element** looks **_something_** like **this**:

```js
// listen for change in image selection

imageSrcSelect.addEventListener('change', populateStorage)
```

**_Last_** of **all**, a `change` `Event Listener` had to be **set** on the
`textarea` **element** that **_triggers_** a `call` on the `populateStorage()` **method** when a `change` has been **_made_** to the `text` **_typed_** in the `textarea` **element** box. The `.addEventListener()` **method** **_set_** on this `textarea` **element** looks **_something_** like the **following**:

```js
// listen for changes in the textarea element

textAreaInput.addEventListener('change', populateStorage)
```

And **_that_** is **it**! We now have a **_completed_** `Storage Fun With Forms` **App**!

## Tools and Resources Used in this App

I **_used_** the `jscolor` **color picker** to **_replace_** the **default**
`color picker` which is **_enabled_** by **adding** the `type="color"`
`attribute` and `value` to an `input` **element**.

I got my **_fun_** and **_free_** `pngs` from a `website` **_called_**
`pinpng.com`.

I **_used_** `Google Fonts` to `populate` the `values` of my `select`
**element's** `options`.

I **_used_** the `npm` **packages** `gh-pages` and `node-sass`.

I **_created_** an `scss` **script** to **_handle_** `watching changes` to my `scss` **file** and **_transforming_** it to `css`.

I **_created_** a `clean` **script** to **_delete_** and **re-create** a `dist` **folder** **_containing_** all the `files` and `folders` **_needed_** to `deploy` my **app** to `gh-pages`.

I **_created_** a `build` **script** to **_copy_** all my `files` and `folders` **needed** for my **application** `build` into my `dist` **folder**.

I **_created_** a `deploy` **script** that **_deployed_** my `dist` `build` to `Github` `gh-pages`.

What the **_completed_** **application** looks like:

![Storage Fun With Forms Application](localstorage-vs-sessionstorage-fun-final.jpg)

***Storage Fun With Forms Application***

## Related Resources

-   [Storage Fun With Forms on Github gh-pages](https://interglobalmedia.github.io/local-storage-session-storage-fun-form/)

-   [Storage Fun With Forms Github Repository](https://github.com/interglobalmedia/local-storage-session-storage-fun-form)

-   [Sticky Footers in the age of coronavirus](/blog/2020-04-09-sticky-footers-in-the-age-of-coronavirus/)

-   [The really cool jscolor color picker](/blog/the-really-cool-jscolor-color-picker/)

